# Рекомендации как писать дизайн-документы

## Вопросы на подумать

Подсказка для начала работы над дизайн-документом. Пункты из списка — это начальные точки для размышлений. Список не претендует на полноту и универсальность, а помогает приступить к самостоятельному анализу системы.

- Логика
  - Какие бизнес-процессы **самые** важные в задаче?
  - Действительно ли техническое решение соответствует требованиям?
- Данные
  - Модель
  - Схема хранения
- Нагрузка
  - Есть ли SLA?
  - Необходимая задержка / пропускная способность системы
  - Ожидаемая rt/nonrt нагрузка
  - Объём хранимых данных, их прирост
- Интеграции
  - Сервисы, от которых зависит система
  - Нагрузка на внешние сервисы
- API
  - Кто будет пользователями API? (Фронтенд, мобильные приложения, внутренние сервисы, ...)
  - Устраивает ли API пользователей?
- Масштабирование
  - Как сервис растет с ростом нагрузки или размера хранимых данных?
  - Какие ручные действия необходимо совершить для осуществления дальнейшего роста?
- Отказоустойчивость
  - Везде ли предусмотрена транзакционность, где она нужна?
  - Возможно ли ситуации, когда система *потеряет данные*?
  - Являются ли операции идемпотентными?
  - Как сервис себя ведет при отключении дата центра, базы-данных и других зависимых сервисов
  - Как ведет себя система при единичной ошибке обработки запроса/сообщения
- Информационная безопасность
  - С какими чувствительными данными будет работать система?
  - Где могут произойти утечки?
- Data Governance
  - Аналитические поставки данных
- Почему выбрано именно это решение, а не альтернативы?
  - Какие альтернативы в принципе рассматривались при выборе решения?
- Что будет с системой дальше?
- Риски и недостатки выбранного решения
  - При каких обстоятельствах оно даст сбой?
  - Какой предел масштабирования у системы?
  - Насколько система будет сложна в разработке и поддержке?
- Ожидания
  - Какой срок запуска проекта?
  - Какие конкретно ожидания у заказчика к плановой дате запуска?
  - Как уложить реализацию проекта в адекватный срок?
  - Что *не* входит в данное решение?
- Команды
  - Какие смежные команды участвуют в проекте? Что им нужно сделать?
  - Точки проекта, на которых команды-участники взаимодействуют друг с другом
  - Все ли смежники обладают необходимой информацией о проекте?
  - В каких моментах проект будет зависеть от чего-то, что лежит вне зоны ответственности команды?
    - Какую подготовительную работу надо провести, чтобы интеграция была гладкой?
- Наблюдаемость
  - Как понять, что всё работает как надо?
  - Нужны ли бизнес-метрики?
  - Какие технические метрики и алерты, кроме стандартных, нужны?

## Описание альтернатив

Когда ревьюверы будут читать дизайн-документ, самым частым вопросом, который они будут себе задавать, будет «Почему сделали X, а не Y». Часто авторы дизайн-документа рассматривали Y, но отказались от него по каким-то причинам. Об этом стоит написать прямо в документе. В итоге и у ревьювера сразу будет понимание почему не сделали Y, и на будущее останется артефакт, который на этот вопрос ответит следующему поколению (или нам самим через пол года).

Это относится не ко всему решению целиком, а к отдельным частям, которые можно было сделать иначе. Очевидно, что расписать альтернативы каждого принятого решения невозможно. Но если по какому то пункту альтернативы рассматривались или, тем более, обсуждались — то это лучше отразить в дизайн-документе.

## Как рисовать диаграммы


Известные способы рисовать иллюстрации:

1. [mermaid.js](https://mermaid.js.org) или PlantUML — для тех, кто предпочитает описывать диаграму на универсальном языке разметки.
2. [draw.io](https://draw.io) — классика. Позволяет рисовать достаточно сложные диаграмы;
3. [Excalidraw](https://excalidraw.com/) — простой редактор для простых схем. Примечателен тем, что имитирует рисование «от руки».
